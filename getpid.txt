diff --git a/services/interaction/drag/include/drag_manager.h b/services/interaction/drag/include/drag_manager.h
index 576d040..1371452 100644
--- a/services/interaction/drag/include/drag_manager.h
+++ b/services/interaction/drag/include/drag_manager.h
@@ -43,6 +43,7 @@ public:
     int32_t StartDrag(const DragData &dragData, SessionPtr sess);
     int32_t StopDrag(int32_t result);
     int32_t GetDragTargetPid() const;
+    void SetDragTargetPid(int32_t dragTargetPid);
     void DragCallback(std::shared_ptr<MMI::PointerEvent> pointerEvent);
     void OnDragUp(std::shared_ptr<MMI::PointerEvent> pointerEvent);
     void OnDragMove(std::shared_ptr<MMI::PointerEvent> pointerEvent);
diff --git a/services/interaction/drag/src/drag_manager.cpp b/services/interaction/drag/src/drag_manager.cpp
index 54ecdfe..9addcf8 100644
--- a/services/interaction/drag/src/drag_manager.cpp
+++ b/services/interaction/drag/src/drag_manager.cpp
@@ -116,6 +116,12 @@ int32_t DragManager::GetDragTargetPid() const
     return dragTargetPid_;
 }
 
+void DragManager::SetDragTargetPid(int32_t dragTargetPid)
+{
+    CALL_DEBUG_ENTER;
+    dragTargetPid_ = dragTargetPid;
+}
+
 int32_t DragManager::NotifyDragResult(int32_t result)
 {
     CALL_DEBUG_ENTER;
@@ -166,7 +172,13 @@ void DragManager::OnDragUp(std::shared_ptr<MMI::PointerEvent> pointerEvent)
     INPUT_MANAGER->AppendExtraData(extraData);
     MMI::PointerEvent::PointerItem pointerItem;
     pointerEvent->GetPointerItem(pointerEvent->GetPointerId(), pointerItem);
-    dragTargetPid_ = INPUT_MANAGER->GetWindowPid(pointerItem.GetTargetWindowId());
+    FI_HILOGI("GGG windowid=%{public}d",pointerItem.GetTargetWindowId());
+    int32_t dragTargetPid = INPUT_MANAGER->GetWindowPid(pointerItem.GetTargetWindowId());
+    if(dragTargetPid < 0) {
+        FI_HILOGI("Failed to get window pid");
+        return;
+    }
+    SetDragTargetPid(dragTargetPid);
 }
 
 void DragManager::MonitorConsumer::OnInputEvent(std::shared_ptr<MMI::AxisEvent> axisEvent) const
diff --git a/services/native/src/devicestatus_service.cpp b/services/native/src/devicestatus_service.cpp
index 700158d..f505675 100644
--- a/services/native/src/devicestatus_service.cpp
+++ b/services/native/src/devicestatus_service.cpp
@@ -732,7 +732,7 @@ int32_t DeviceStatusService::UpdateDragMessage(const std::u16string &message)
 int32_t DeviceStatusService::GetDragTargetPid()
 {
     CALL_DEBUG_ENTER;
-    return RET_OK;
+    return dragMgr_.GetDragTargetPid();
 }
 
 #ifdef OHOS_BUILD_ENABLE_COORDINATION
